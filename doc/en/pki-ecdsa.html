<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <!--<meta http-equiv="Content-Security-Policy" content="default-src 'none'">-->
    <title>jCastle documentation</title>
    <link rel="stylesheet" href="../static/lib/bootstrap-4.6.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="../static/lib/AdminLTE-3.2.0/dist/css/adminlte.min.css">
    <link rel="stylesheet" href="../static/lib/fontawesome-6.1.1/css/all.min.css">
    <link rel="stylesheet" href="./style.css" type="text/css">
    

    <script type="text/javascript" src="../static/lib/jquery-3.6.0.min.js"></script>
    <!--<script>
    window.jQuery = window.$ = require('jquery');
    </script>-->
    <script type="text/javascript" src="../static/lib/bootstrap-4.6.1/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="../static/lib/AdminLTe-3.2.0/dist/js/adminlte.min.js"></script>
    <script type="text/javascript" src="../static/lib/fontawesome-6.1.1/js/all.min.js"></script>
    <script type="text/javascript" src="./api.js"></script>

    <style>
        body {
            overflow-x: hidden;
        }
        #column2::-webkit-scrollbar {
            display: none;
        }
        .blink_me {
          animation: blinker 5s linear infinite;
        }

        @keyframes blinker {
          50% {
            opacity: 0;
          }
        }
        .cursor-pointer {
            cursor:  pointer;
        }
        .mark {
          background-color:  transparent;
        }
    </style>
</head>
<body class="apidoc" id="api-section-index">

    <div id="content" class="clearfix">
      <div id="column2" class="interior">
        <div id="intro" class="interior">
          <a href="/" title="Go back to the home page">
            <span style="font-size: 2rem">jCastle</span> <span style="color: #AED6F1; font-size: 14px">(v2.0)</span>
          </a>
        </div>

        <ul>
<li><a href="mcrypt.html">mcrypt - Message Crypt</a></li>
<li><a href="algorithms.html">Message Crypt Algorithms</a></li>
<li><a href="mcrypt-mode.html">Mcrypt Modes</a></li>
<li><a href="digest.html">digest - Message Digest</a></li>
<li><a href="hashes.html">Hash Algorithms</a></li>
<li><a href="mac.html">mac - Message Authentication Code</a></li>
<li><a href="mac-mode.html">MAC Modes</a></li>
<li><a href="hmac.html">hmac - Hash MAC</a></li>
<li><a href="kdf.html">kdf - Key Derive Function</a></li>
<li><a href="pki.html">pki - Public Key Infrastructure</a></li>
<li><a href="pki-rsa.html">pki.rsa - RSA</a></li>
<li><a href="pki-dsa.html">pki.dsa - DSA</a></li>
<li><a href="pki-ecdsa.html">pki.ecdsa - ECDSA</a></li>
<li><a href="pki-kcdsa.html">pki.kcdsa - KCDSA</a></li>
<li><a href="pki-eckcdsa.html">pki.eckcdsa - EC-KCDSA</a></li>
<li><a href="pki-elgamal.html">pki.elgamal - ElGamal</a></li>
<li><a href="dh.html">dh - Diffie–Hellman Key Exchange</a></li>
<li><a href="ecdh.html">ecdh - DH with Elliptic Curve Cryptographic System</a></li>
<li><a href="asn1.html">asn1 - Abstract Syntax Notation #1</a></li>
<li><a href="certConfig.html">certConfig - openssl.cnf reader or parser</a></li>
<li><a href="certificate.html">certificate - X.509 Certificate</a></li>
<li><a href="cms.html">cms - Cryptographic Message Syntax</a></li>
<li><a href="pfx.html">pfx - Personal Information Exchange</a></li>
<li><a href="keywrap.html">keywrap - Key Wrapping Algorithm</a></li>
<li><a href="jose.html">jose - Javascript Object Signing & Encryption</a></li>
<li><a href="prng.html">prng - Pseudorandom number generator</a></li>
        </ul>
      </div>

      <div id="column1" data-id="index" class="interior">
        <header class="header">
          <div class="header-container">
            <h1>jCastle v2.0 documentation</h1>
            <button class="theme-toggle-btn" id="theme-toggle-btn" title="Toggle dark mode/light mode" aria-label="Toggle dark mode/light mode" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" height="24" width="24">
              <path fill="none" d="M0 0h24v24H0z" />
              <path d="M11.1 12.08c-2.33-4.51-.5-8.48.53-10.07C6.27 2.2 1.98 6.59 1.98 12c0 .14.02.28.02.42.62-.27 1.29-.42 2-.42 1.66 0 3.18.83 4.1 2.15A4.01 4.01 0 0111 18c0 1.52-.87 2.83-2.12 3.51.98.32 2.03.5 3.11.5 3.5 0 6.58-1.8 8.37-4.52-2.36.23-6.98-.97-9.26-5.41z"/>
              <path d="M7 16h-.18C6.4 14.84 5.3 14 4 14c-1.66 0-3 1.34-3 3s1.34 3 3 3h3c1.1 0 2-.9 2-2s-.9-2-2-2z"/>
            </svg>
            <svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" height="24" width="24">
              <path d="M0 0h24v24H0z" fill="none" />
              <path d="M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91l-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z"/>
            </svg>
            </button>
          </div>
          
          <hr>
        </header>

        <!-- TOC -->

        <div id="apicontent">


<ul class="d-none">
<li><a href="mcrypt.html">mcrypt - Message Crypt</a></li>
<li><a href="algorithms.html">Message Crypt Algorithms</a></li>
<li><a href="mcrypt-mode.html">Mcrypt Modes</a></li>
<li><a href="digest.html">digest - Message Digest</a></li>
<li><a href="hashes.html">Hash Algorithms</a></li>
<li><a href="mac.html">mac - Message Authentication Code</a></li>
<li><a href="mac-mode.html">MAC Modes</a></li>
<li><a href="hmac.html">hmac - Hash MAC</a></li>
<li><a href="kdf.html">kdf - Key Derive Function</a></li>
<li><a href="pki.html">pki - Public Key Infrastructure</a></li>
<li><a href="pki-rsa.html">pki.rsa - RSA</a></li>
<li><a href="pki-dsa.html">pki.dsa - DSA</a></li>
<li><a href="pki-ecdsa.html">pki.ecdsa - ECDSA</a></li>
<li><a href="pki-kcdsa.html">pki.kcdsa - KCDSA</a></li>
<li><a href="pki-eckcdsa.html">pki.eckcdsa - EC-KCDSA</a></li>
<li><a href="pki-elgamal.html">pki.elgamal - ElGamal</a></li>
<li><a href="dh.html">dh - Diffie–Hellman Key Exchange</a></li>
<li><a href="ecdh.html">ecdh - DH with Elliptic Curve Cryptographic System</a></li>
<li><a href="asn1.html">asn1 - Abstract Syntax Notation #1</a></li>
<li><a href="certConfig.html">certConfig - openssl.cnf reader or parser</a></li>
<li><a href="certificate.html">certificate - X.509 Certificate</a></li>
<li><a href="cms.html">cms - Cryptographic Message Syntax</a></li>
<li><a href="pfx.html">pfx - Personal Information Exchange</a></li>
<li><a href="keywrap.html">keywrap - Key Wrapping Algorithm</a></li>
<li><a href="jose.html">jose - Javascript Object Signing & Encryption</a></li>
<li><a href="prng.html">prng - Pseudorandom number generator</a></li>
</ul>


<section>

  <h3>Class:<code>jCastle.pki.ecdsa</code><span><a class="mark" href="#class-pki-ecdsa" id="class-pki-ecdsa">#</a></span><a aria-hidden="true" class="legacy" id="class_pki_ecdsa"></a></h3>

  <p>ECDSA(Elliptic Curve Digital Signature Algorithm) 즉 타원곡선 디지털서명 알고리즘은 1985년 닐 코블리츠(Neal Koblitz)와 빅터 밀러(Victor Miller)가 제안한 타원곡선암호(ECC; Elliptic Curve Cryptosystem)에 기반을 둔 전자서명 알고리즘입니다. 이는 일반적인 인증 시스템에서 보안 키의 보호가 점점 어려워짐에 따라 이를 보완하기 위해 개발한 것으로서, 이 방식에서는 발신자에 의한 서명 시 사용되는 개인 키와 수신자가 발신자의 서명을 사용하는 공개 키 한 쌍을 갖습니다. 미국표준기술연구소(NIST)에서 발표한 전자서명 표준(DSS)은 적합한 타원곡선과 키 쌍의 계산, 전자서명을 지정하고 있으며, 1998년 미국표준협회(ANSI)에서 타원곡선 디지털서명 알고리즘을 미국 표준화해 연방 정보 처리 표준(FIPS)에서 승인되었습니다. 타원곡선 디지털서명 인증에 필요한 계산은 개인 키와 공개 키의 생성, 서명과 서명 검증으로 이뤄지며 공개 문헌에서 대응하는 방정식을 확인할 수 있습니다.</p>

  <p>ECDSA는 DSA의 한 변형으로 타원곡선(elliptic curve) 기술을 사용하여 디지탈 서명을 수행하는 알고리즘입니다. ECDSA는 ECC 기술에 기반하여 DSA 서명을 수행하는 것이라 할 수 있습니다. ECC에서 설명한 바와 같이, ECDSA는 타원곡선(elliptic curve)에 위치한 점의 곱셈 연산(스칼라 곱셈)이 일방향 함수의 기능을 한다는 점에 기반한 것입니다. 타원곡선에서 시작점(base point)에서 N번 곱셈 연산을 수행했을 때 종료점을 쉽게 구할 수 있지만, 시작점과 종료점만을 아는 상태에서 시작점에서 얼마만큼의 곱셈 연산을 수행해야 종료점이 되는지 알기 어렵다는 점에서 타원곡선의 곱셈 연산은 일방향 함수의 기능을 갖습니다.</p>

  <p>RSA와 DSA의 Key는 상대적으로 크지만, ECDSA는 Key가 매우 작다는 장점이 있습니다. 오늘날 모바일 기기들과 같이 작은 연산과 저장 능력을 가진 디바이스에서는 RSA/DSA 보다 ECDSA가 훨씬 더 효율적입니다. 예를 들어, 키 사이즈의 경우, 3072bit의 RSA 키는 ECDSA에서 256bit 키로 대체되어 동일한 보안 레벨을 유지할 수 있습니다.</p>


  <!-- new jCastle.pki.ecdsa -->
  <h4><code>new jCastle.pki.ecdsa()</code><span><a class="mark" href="#new-pki-ecdsa-intance" id="new-pki-ecdsa-instance">#</a></span><a aria-hidden="true" class="legacy" id="new_pki_ecdsa_instance"></a></h4>

  <p><code>jCastle.pki.ecdsa</code> 오브젝트를 생성합니다.</p>

  <!-- jCastle.pki.ecdsa.create() -->
  <h4>Static method: <code>jCastle.pki.ecdsa.create()</code><span><a class="mark" href="#static-ecdsa-create" id="static-ecdsa-create">#</a></span><a aria-hidden="true" class="legacy" id="static_ecdsa_create"></a></h4>

  <p><code>jCastle.pki.ecdsa</code> 오브젝트를 생성합니다. <code>new jCastle.pki.ecdsa()</code>와 동일합니다.</p>

  <ul>
    <li>Return Value: <code>jCastle.pki.ecdsa</code> 오브젝트를 생성하여 리턴합니다.</li>
  </ul>

  <!-- jCastle.pki.ecdsa.getParameters(name) -->
  <h4>Static method: <code>jCastle.pki.ecdsa.getParameters(name)</code><span><a class="mark" href="#static-ecdsa-getParameters" id="static-ecdsa-getParameters">#</a></span><a aria-hidden="true" class="legacy" id="static_ecdsa_getParameters"></a></h4>

  <p>Parameters 목록에서 지정된 이름을 갖는 Parameters를 가져옵니다. </p>

  <ul>
    <li><code>name</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&#x3C;string></a> EC Parameters 이름 명칭. </li>
  </ul>

  <ul>
    <li>Return Value: 해당 Parameters를 선택하여 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&#x3C;Object></a>로 리턴합니다.</li>
  </ul>

  <!-- jCastle.pki.ecdsa.getParametersByOID(oid) -->
  <h4>Static method: <code>jCastle.pki.ecdsa.getParametersByOID(oid)</code><span><a class="mark" href="#static-ecdsa-getParametersByOID" id="static-ecdsa-getParametersByOID">#</a></span><a aria-hidden="true" class="legacy" id="static_ecdsa_getParametersByOID"></a></h4>

  <p>Parameters 목록에서 지정된 OID(Object ID)를 갖는 Parameters를 가져옵니다. </p>

  <ul>
    <li><code>oid</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&#x3C;string></a> EC Parameters Object ID. </li>
  </ul>

  <ul>
    <li>Return Value: 해당 Parameters를 선택하여 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&#x3C;Object></a>로 리턴합니다.</li>
  </ul>

  <!-- jCastle.pki.ecdsa.getCurveNameByOID(oid) -->
  <h4>Static method: <code>jCastle.pki.ecdsa.getCurveNameByOID(oid)</code><span><a class="mark" href="#static-ecdsa-getCurveNameByOID" id="static-ecdsa-getCurveNameByOID">#</a></span><a aria-hidden="true" class="legacy" id="static_ecdsa_getCurveNameByOID"></a></h4>

  <p>지정된 OID(Object ID)를 갖는 EC Curve 이름을 가져옵니다. </p>

  <ul>
    <li><code>oid</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&#x3C;string></a> EC Parameters Object ID. </li>
  </ul>

  <ul>
    <li>Return Value: 해당 Parameters를 선택하여 EC Curve 이름을 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&#x3C;string></a>로 리턴합니다.</li>
  </ul>

  <!-- jCastle.pki.ecdsa.getCurveNameByParams(params) -->
  <h4>Static method: <code>jCastle.pki.ecdsa.getCurveNameByParams(params)</code><span><a class="mark" href="#static-ecdsa-getCurveNameByParams" id="static-ecdsa-getCurveNameByParams">#</a></span><a aria-hidden="true" class="legacy" id="static_ecdsa_getCurveNameByParams"></a></h4>

  <p>Parameters 객체를 조사하여 해당 EC Curve 이름을 가져옵니다. </p>

  <ul>
    <li><code>params</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&#x3C;Object></a>> EC Parameters 객체. </li>
  </ul>

  <ul>
    <li>Return Value: Parameters를 조사하여 해당 EC Curve 이름을 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&#x3C;string></a>로 리턴합니다.</li>
  </ul>

  <hr>

  <!-- ecdsa.reset() -->
  <h4><code>ecdsa.reset()</code> <span><a class="mark" href="#ecdsa-reset" id="ecdsa-reset">#</a></span><a aria-hidden="true" class="legacy" id="ecdsa_reset"></a></h4>

  <p>입력되었던 모든 데이터들을 초기화 합니다.</p>

  <ul>
    <li>Return Value: 오브젝트 자신을 리턴합니다.</li>
  </ul>

  <!-- ecdsa.getBlockLength() -->
  <h4><code>ecdsa.getBlockLength()</code> <span><a class="mark" href="#ecdsa-getBlockLength" id="ecdsa-getBlockLength">#</a></span><a aria-hidden="true" class="legacy" id="ecdsa_getBlockLength"></a></h4>

  <p>Prime-field의 경우 Parameter <code>p</code>의 사이즈를 바이트 단위로 리턴하며, Character-two-field의 경우 Parameter <code>m</code>의 바이트 값을 리턴합니다.</p>

  <ul>
    <li>Return Value: 사이즈를 바이트 단위로 해서 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&#x3C;Integer></a>로 리턴합니다.</li>
  </ul>

  <!-- ecdsa.getBitLength() -->
  <h4><code>ecdsa.getBitLength()</code> <span><a class="mark" href="#ecdsa-getBitLength" id="ecdsa-getBitLength">#</a></span><a aria-hidden="true" class="legacy" id="ecdsa_getBitLength"></a></h4>

  <p>Prime-field의 경우 Parameter <code>p</code>의 사이즈를 비트 단위로 리턴하며, Character-two-field의 경우 Parameter <code>m</code> 값을 리턴합니다.</p>

  <ul>
    <li>Return Value: 사이즈를 비트 단위로 해서 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&#x3C;Integer></a>로 리턴합니다.</li>
  </ul>

  <!-- ecdsa.setPublicKey(y, params) -->
  <h4><code>ecdsa.setPublicKey(y [, params])</code> <span><a class="mark" href="#ecdsa-setPublicKey" id="ecdsa-setPublicKey">#</a></span><a aria-hidden="true" class="legacy" id="ecdsa_setPublicKey"></a></h4>

  <p>공개키 <code>y</code>를 등록합니다.</p>

  <ul>
    <li><code>y</code> <a herf="#" class="type">&#x3C;jCastle.math.ec.point.*></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&#x3C;Object></a> | <a href="https://nodejs.org/dist/latest-v18.x/docs/api/buffer.html#class-buffer" class="type">&#x3C;Buffer></a> 공개키 <code>y</code>. 객체로 오는 경우 <code>JWK</code>의 형식이어야 합니다.</li>
    <li><code>params</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&#x3C;Object></a> Parameters 값</li>
  </ul>

  <!-- ecdsa.getPublicKey(format = 'object') -->
  <h4><code>ecdsa.getPublicKey(format = 'object')</code> <span><a class="mark" href="#ecdsa-getPublicKey" id="ecdsa-getPublicKey">#</a></span><a aria-hidden="true" class="legacy" id="ecdsa_getPublicKey"></a></h4>

  <p>공개키 <code>y</code>를 내보냅니다.</p>

  <ul>
    <li><code>format</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&#x3C;string></a> 공개키 포맷 형식. 기본 값은 <code>object</code>입니다. 올 수 있는 값은 <code>hex</code>, <code>jwt</code>, <code>object</code>, <code>buffer</code>, <code>base64</code> 등이 있습니다.</li>
  </ul>

  <ul>
    <li>Return Value: 공개키를 <code>format</code> 값에 따라 내보냅니다.</li>
  </ul>

  <!-- ecdsa.getPrivateKey(format = 'object') -->
  <h4><code>ecdsa.getPrivateKey(format = 'object')</code> <span><a class="mark" href="#ecdsa-getPrivateKey" id="ecdsa-getPrivateKey">#</a></span><a aria-hidden="true" class="legacy" id="ecdsa_getPrivateKey"></a></h4>

  <p>개인키 <code>x</code>를 내보냅니다.</p>

  <ul>
    <li><code>format</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&#x3C;string></a> 개인키 포맷 형식. 기본 값은 <code>object</code>입니다. 올 수 있는 값은 <code>hex</code>, <code>jwt</code>, <code>object</code>, <code>buffer</code>, <code>uint8array</code>, <code>base64</code> 등이 있습니다. <code>object</code>인 경우 <a herf="#" class="type">&#x3C;BigInteger></a>의 값을 갖습니다.</li>
  </ul>

  <ul>
    <li>Return Value: 개인키를 <code>format</code> 값에 따라 내보냅니다.</li>
  </ul>

  <!-- ecdsa.setPrivateKey(x [, y, params]) -->
  <h4><code>ecdsa.setPrivateKey(x [, y, params])</code> <span><a class="mark" href="#ecdsa-setPrivateKey" id="ecdsa-setPrivateKey">#</a></span><a aria-hidden="true" class="legacy" id="ecdsa_setPrivateKey"></a></h4>

  <p>공개키를 포함한 개인키를 등록합니다.</p>

  <ul>
    <li><code>x</code> <a herf="#" class="type">&#x3C;BigInteger></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&#x3C;Object></a> | <a href="https://nodejs.org/dist/latest-v18.x/docs/api/buffer.html#class-buffer" class="type">&#x3C;Buffer></a> 개인키. Node.js에서 기본 지원하는 <a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/BigInt" class="type">&#x3C;BigInt></a>는 아직 지원하지 않습니다. <a herf="#" class="type">&#x3C;BigInteger></a>는 <code>jCastle.math.bigInteger</code>로 등록되어 있습니다. 객체로 오는 경우 <code>JWK</code>의 형식이어야 합니다.</li>
    <li><code>y</code> <a href="https://nodejs.org/dist/latest-v18.x/docs/api/buffer.html#class-buffer" class="type">&#x3C;Buffer></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&#x3C;string></a> 공개키 <code>y</code>. 스트링은 헥스 스트링만 허용합니다.</li>
    <li><code>params</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&#x3C;Object></a> Parameters 값</li>
  </ul>

  <!-- ecdsa.getPublicKeyInfo(format = 'buffer', param_format = 'hex') -->
  <h4><code>ecdsa.getPublicKeyInfo(format = 'buffer', param_format = 'hex')</code> <span><a class="mark" href="#ecdsa-getPublicKeyInfo" id="ecdsa-getPublicKeyInfo">#</a></span><a aria-hidden="true" class="legacy" id="ecdsa_getPublicKeyInfo"></a></h4>

  <p>공개키 관련 정보를 내보냅니다.</p>

  <ul>
    <li><code>format</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&#x3C;string></a> 공개키 포맷 형식. 기본 값은 <code>buffer</code>입니다. 올 수 있는 값은 <code>hex</code>, <code>jwt</code>, <code>object</code>, <code>buffer</code>, <code>base64</code> 등이 있습니다.</li>
    <li><code>params_format</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&#x3C;string></a> Parameters 포맷 형식. 기본 값은 <code>hex</code>입니다. 올 수 있는 값은 <code>hex</code>, <code>jwt</code>, <code>object</code>, <code>buffer</code>, <code>base64</code> 등이 있습니다.</li>
  </ul>

  <ul>
    <li>Return Value: 공개키 정보를 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&#x3C;Object></a> 형태로 내보냅니다.</li>
  </ul>

  <!-- ecdsa.getPrivateKeyInfo(format = 'buffer', param_format = 'hex') -->
  <h4><code>ecdsa.getPrivateKeyInfo(format = 'buffer', param_format = 'hex')</code> <span><a class="mark" href="#ecdsa-getPrivateKeyInfo" id="ecdsa-getPrivateKeyInfo">#</a></span><a aria-hidden="true" class="legacy" id="ecdsa_getPrivateKeyInfo"></a></h4>

  <p>개인키 관련 정보를 내보냅니다.</p>

  <ul>
    li><code>format</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&#x3C;string></a> 개인키 포맷 형식. 기본 값은 <code>buffer</code>입니다. 올 수 있는 값은 <code>hex</code>, <code>jwt</code>, <code>object</code>, <code>buffer</code>, <code>uint8array</code>, <code>base64</code> 등이 있습니다.</li>
    <li><code>params_format</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&#x3C;string></a> Parameters 포맷 형식. 기본 값은 <code>hex</code>입니다. 올 수 있는 값은 <code>hex</code>, <code>jwt</code>, <code>object</code>, <code>buffer</code>, <code>base64</code> 등이 있습니다.</li>
  </ul>

  <ul>
    <li>Return Value: 개인키 정보를 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&#x3C;Object></a> 형태로 내보냅니다.</li>
  </ul>

  <!-- ecdsa.publicKeyEquals(pubkey) -->
  <h4><code>ecdsa.publicKeyEquals(pubkey)</code> <span><a class="mark" href="#ecdsa-publicKeyEquals" id="ecdsa-publicKeyEquals">#</a></span><a aria-hidden="true" class="legacy" id="ecdsa_publicKeyEquals"></a></h4>

  <p>공개키가 일치하는지 체크합니다.</p>

  <ul>
    <li><code>pubkey</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&#x3C;Object></a> | <a href="https://nodejs.org/dist/latest-v18.x/docs/api/buffer.html#class-buffer" class="type">&#x3C;Buffer></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&#x3C;string></a> 공개키 <code>y</code>. 만일 객체로 오는 경우 <code>JWK</code> 형태로 주어져야 합니다. 스트링은 헥스 스트링만 허용합니다.</li>
  </ul>

  <ul>
    <li>Return Value: 공개키가 일치하면 <code>true</code>를, 그렇지 않으면 <code>false</code>를 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#boolean_type" class="type">&#x3C;Boolean></a> 형태로 내보냅니다.</li>
  </ul>

  <!-- ecdsa.hasPublicKey() -->
  <h4><code>ecdsa.hasPublicKey()</code> <span><a class="mark" href="#ecdsa-hasPublicKey" id="ecdsa-hasPublicKey">#</a></span><a aria-hidden="true" class="legacy" id="ecdsa_hasPublicKey"></a></h4>

  <p>공개키가 등록되어 있는지 체크합니다.</p>

  <ul>
    <li>Return Value: 공개키가 등록되어 있으면 <code>true</code>를, 그렇지 않으면 <code>false</code>를 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#boolean_type" class="type">&#x3C;Boolean></a> 형태로 내보냅니다.</li>
  </ul>

  <!-- ecdsa.hasPrivateKey() -->
  <h4><code>ecdsa.hasPrivateKey()</code> <span><a class="mark" href="#ecdsa-hasPrivateKey" id="ecdsa-hasPrivateKey">#</a></span><a aria-hidden="true" class="legacy" id="ecdsa_hasPrivateKey"></a></h4>

  <p>개인키가 등록되어 있는지 체크합니다.</p>

  <ul>
    <li>Return Value: 개인키가 등록되어 있으면 <code>true</code>를, 그렇지 않으면 <code>false</code>를 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#boolean_type" class="type">&#x3C;Boolean></a> 형태로 내보냅니다.</li>
  </ul>

  <!-- ecdsa.setParameters(params) -->
  <h4><code>ecdsa.setParameters(params)</code> <span><a class="mark" href="#ecdsa-setParameters" id="ecdsa-setParameters">#</a></span><a aria-hidden="true" class="legacy" id="ecdsa_setParameters"></a></h4>

  <p>Parameters를 등록합니다.</p>

  <ul>
    <li><code>params</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&#x3C;Object></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&#x3C;string></a> Parameters 명칭 혹은 객체로 오는 경우 Parameters의 상세 프로퍼티로 갖는 객체이어야 합니다.</li>
  </ul>

  <!-- ecdsa.getCurveInfo() -->
  <h4><code>ecdsa.getCurveInfo()</code> <span><a class="mark" href="#ecdsa-getCurveInfo" id="ecdsa-getCurveInfo">#</a></span><a aria-hidden="true" class="legacy" id="ecdsa_getCurveInfo"></a></h4>

  <p>EC Curve 정보를 리턴합니다.</p>

  <ul>
    <li>Return Value: EC Curve 정보를 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&#x3C;Object></a> 형태로 내보냅니다.</li>
  </ul>

  <!-- ecdsa.getEphemeralPublicKey(ephemeral_privkey, format='object') -->
  <h4><code>ecdsa.getEphemeralPublicKey(ephemeral_privkey, format='object')</code> <span><a class="mark" href="#ecdsa-getEphemeralPublicKey" id="ecdsa-getEphemeralPublicKey">#</a></span><a aria-hidden="true" class="legacy" id="ecdsa_getEphemeralPublicKey"></a></h4>

  <p>주어진 Short-time용 개인키에 대한 공개키를 내보냅니다.</p>

  <ul>
    <li><code>ephemeral_privkey</code> <a herf="#" class="type">&#x3C;BigInteger></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&#x3C;Object></a> | <a href="https://nodejs.org/dist/latest-v18.x/docs/api/buffer.html#class-buffer" class="type">&#x3C;Buffer></a> 개인키 <code>y</code>. Node.js에서 기본 지원하는 <a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/BigInt" class="type">&#x3C;BigInt></a>는 아직 지원하지 않습니다. <a herf="#" class="type">&#x3C;BigInteger></a>는 <code>jCastle.math.bigInteger</code>로 등록되어 있습니다. 객체로 오는 경우 <code>JWK</code>의 형식이어야 합니다.</li>
    <li><code>format</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&#x3C;string></a> 개인키 리턴 양식. 올 수 있는 값은 <code>hex</code>, <code>buffer</code>, <code>jwt</code>, <code>object</code>입니다. 기본값은 <code>object</code>입니다.</li>
  </ul>

  <ul>
    <li>Return Value: Short-time용 공개키를 <code>format</code>에 따라 내보냅니다.</li>
  </ul>

  <!-- ecdsa.importPoint(mixed_point) -->
  <h4><code>ecdsa.importPoint(mixed_point)</code> <span><a class="mark" href="#ecdsa-importPoint" id="ecdsa-importPoint">#</a></span><a aria-hidden="true" class="legacy" id="ecdsa_importPoint"></a></h4>

  <p>주어진 값을 EC Curve 상의 포인트로 변경하여 내보냅니다.</p>

  <ul>
    <li><code>mixed_point</code> <a herf="#" class="type">&#x3C;jCastle.math.ec.point.*></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&#x3C;Object></a> | <a href="https://nodejs.org/dist/latest-v18.x/docs/api/buffer.html#class-buffer" class="type">&#x3C;Buffer></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&#x3C;string></a> 포인트 값 <code>y</code>. 객체로 오는 경우 <code>JWK</code>의 형식이어야 합니다. 스트링은 오직 헥스만 허용합니다.</li>
  </ul>

  <ul>
    <li>Return Value: 주어진 값을 EC Curve상의 포인트로 <a herf="#" class="type">&#x3C;jCastle.math.ec.point.*></a> 형태로 내보냅니다.</li>
  </ul>

  <!-- ecdsa.getParameters(format = 'object') -->
  <h4><code>ecdsa.getParameters(format = 'object')</code> <span><a class="mark" href="#ecdsa-getParameters" id="ecdsa-getParameters">#</a></span><a aria-hidden="true" class="legacy" id="ecdsa_getParameters"></a></h4>

  <p>Parameters의 명칭이 존재하면 그 이름을 내보내고 그렇지 않은 경우 객체를 내보냅니다.</p>

  <ul>
    <li><code>format</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&#x3C;string></a> 포맷 형식. 기본 값은 <code>object</code>입니다. </li>
  </ul>

  <ul>
    <li>Return Value: Parameters 명칭이 존재하면 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&#x3C;string></a> 형태로 내보내고, 그렇지 않을 경우 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&#x3C;Object></a>형태로 내보냅니다.</li>
  </ul>


  <!-- ecdsa.generateKeypair([parameters]) -->
  <h4><code>ecdsa.generateKeypair([parameters])</code> <span><a class="mark" href="#ecdsa-generateKeypair" id="ecdsa-generateKeypair">#</a></span><a aria-hidden="true" class="legacy" id="ecdsa_generateKeypair"></a></h4>

  <p>공개키를 포함한 개인키를 생성합니다.</p>

  <ul>
    <li><code>parameters</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&#x3C;Object></a> Parameters 객체가 주어지면 이 값을 기준으로 개인키와 공개키를 생성합니다. 만일 주어지지 않으면 <code>ecdsa.generateParameters()</code>를 통해 이미 생성되어 있어야 합니다.
    </li>
  </ul>

  <!-- ecdsa.sign(str, options = {}) -->
  <h4><code>ecdsa.sign(str, options = {})</code> <span><a class="mark" href="#ecdsa-sign" id="ecdsa-sign">#</a></span><a aria-hidden="true" class="legacy" id="ecdsa_sign"></a></h4>

  <p>메시지에 대해 서명을 생성합니다. </p>

  <ul>
    <li><code>str</code> <a href="https://nodejs.org/dist/latest-v18.x/docs/api/buffer.html#class-buffer" class="type">&#x3C;Buffer></a> 서명할 스트링. 만일 스트링이 오면 <code>UTF-8</code> 스트링으로 인식하여 <a href="https://nodejs.org/dist/latest-v18.x/docs/api/buffer.html#class-buffer" class="type">&#x3C;Buffer></a>로 변환합니다.</li>
    <li><code>otions</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&#x3C;Object></a> 옵션 객체.
      <ul>
        <li><code>hashAlgo</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&#x3C;string></a> 사용할 해쉬 알고리듬 명. 기본 값은 <code>sha-1</code>입니다.</li>
        <li><code>returnType</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&#x3C;string></a> 리턴할 서명의 형식. 올 수 있는 값은 세 종류로, <a href="https://nodejs.org/dist/latest-v18.x/docs/api/buffer.html#class-buffer" class="type">&#x3C;Buffer></a> 값인 <code>r</code>과 <code>s</code>를 concatenation하여 리턴하는 <code>concat</code>과, 객체형태로 리턴하는 <code>object</code>과, Asn#1형식으로 리턴하는 <code>asn1</code>이 있습니다.</li>
      </ul>
    </li>
  </ul>

  <ul>
    <li>Return Value: 메시지에 대한 서명을 생성하여 <code>returnType</code> 형태로 리턴합니다.</li>
  </ul>

  <!-- ecdsa.verify(str, signature, options = {}) -->
  <h4><code>ecdsa.verify(str, signature, options = {})</code> <span><a class="mark" href="#ecdsa-verify" id="ecdsa-verify">#</a></span><a aria-hidden="true" class="legacy" id="ecdsa_verify"></a></h4>

  <p>메시지에 대해 생성된 서명을 검증합니다. </p>

  <ul>
    <li><code>str</code> <a href="https://nodejs.org/dist/latest-v18.x/docs/api/buffer.html#class-buffer" class="type">&#x3C;Buffer></a> 검증할 스트링. 만일 스트링이 오면 <code>UTF-8</code> 스트링으로 인식하여 <a href="https://nodejs.org/dist/latest-v18.x/docs/api/buffer.html#class-buffer" class="type">&#x3C;Buffer></a>로 변환합니다.</li>
    <li><code>signature</code> <a href="https://nodejs.org/dist/latest-v18.x/docs/api/buffer.html#class-buffer" class="type">&#x3C;Buffer></a> 검증할 서명.</li>
    <li><code>otions</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&#x3C;Object></a> 옵션 객체로 <code>hashAlgo</code> 값이 올 수 있습니다(기본 값은 <code>sha-1</code>입니다).</li>
  </ul>

  <ul>
    <li>Return Value: 메시지에 대한 서명을 검증하여 맞으면 <code>true</code>, 그렇지 않으면 <code>false</code>를  <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#boolean_type" class="type">&#x3C;Boolean></a> 형태로 리턴합니다.</li>
  </ul>


  <pre class="prettyprint p-4">
QUnit.test("Basic Test", function(assert) {

  var test_pem = `-----BEGIN EC PRIVATE KEY-----
MIHcAgEBBEIBPRmShGjRT6u5I1qB/B7HBv9UE6cKdgtj4H1FpdBKLxhCXvc1UAGQ
KRqsr1jJIwas2H+gGkfZB9XT/AFTEYA1MUagBwYFK4EEACOhgYkDgYYABAFN5ZcE
zg9fV13u57ffwyN9bm9Wa9Pe0MtL2cd5CW2ku4mWzgS5m8IfNMAw2QMah5Z9fuXW
1fGJgUx1RsC09R6legFTgymlbqt+CaPhNsJkr12cjyzhT1NxR6uEzMUtBcYxqLHy
ANkhHmvAk221//YIRIWix7ZlRsRrs+iYrpWw4bMt9A==
-----END EC PRIVATE KEY-----`;
    
  var ecdsa = new jCastle.pki('ECDSA');
  ecdsa.parsePrivateKey(test_pem);
    
  var k = Buffer.from("4E636AF98E40F3ADCFCCB698F4E80B9F", 'hex');
    
  var s = ecdsa.sign(k, { signAlgo:'sha-1' });    
  var v = ecdsa.verify(k, s, { signAlgo:'sha-1' });
  assert.ok(v, "ECDSA Prime Field Sign Test");
    
    
  //---------------------------------------------------------------
    
  var ecdsa = new jCastle.pki('ECDSA');
  ecdsa.setParameters("sect571r1");
  ecdsa.generateKeypair();
    
  var k = Buffer.from("4E636AF98E40F3ADCFCCB698F4E80B9F", 'hex');
    
  var s = ecdsa.sign(k, { signAlgo:'sha-1' });
  var v = ecdsa.verify(k, s, { signAlgo:'sha-1' });
  assert.ok(v, "ECDSA Binary Field Sign Test");

});
  </pre>



</section>  

        <!-- API END -->
        </div>
      </div>
    </div>

<script src="../static/lib/code-prettify/loader/run_prettify.js"></script>
<!-- this stylesheet's position is important! -->
<link rel="stylesheet" href="../static/lib/code-prettify/loader/skins/tranquil-heart.min.css">
</body>
</html>  